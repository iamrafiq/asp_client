[{"/home/ubuntu/aspyrer/asp_client/src/index.js":"1","/home/ubuntu/aspyrer/asp_client/src/reportWebVitals.js":"2","/home/ubuntu/aspyrer/asp_client/src/redux/countriesReducer.js":"3","/home/ubuntu/aspyrer/asp_client/src/core/apiCore.js":"4","/home/ubuntu/aspyrer/asp_client/src/config.js":"5","/home/ubuntu/aspyrer/asp_client/src/redux/store.js":"6","/home/ubuntu/aspyrer/asp_client/src/Routes.js":"7","/home/ubuntu/aspyrer/asp_client/src/core/Layout.js":"8","/home/ubuntu/aspyrer/asp_client/src/redux/activityReducer.js":"9","/home/ubuntu/aspyrer/asp_client/src/card/InputCard.js":"10","/home/ubuntu/aspyrer/asp_client/src/card/MainCard.js":"11","/home/ubuntu/aspyrer/asp_client/src/core/AhoCorasick.js":"12","/home/ubuntu/aspyrer/asp_client/src/widget/modal/Modal.css.js":"13","/home/ubuntu/aspyrer/asp_client/src/widget/modal/modal.js":"14","/home/ubuntu/aspyrer/asp_client/src/card/CountriesCard.js":"15","/home/ubuntu/aspyrer/asp_client/src/screen/Home.js":"16","/home/ubuntu/aspyrer/asp_client/src/screen/Activity.js":"17"},{"size":630,"mtime":1612092158032,"results":"18","hashOfConfig":"19"},{"size":362,"mtime":1611993791693,"results":"20","hashOfConfig":"19"},{"size":656,"mtime":1612093385918,"results":"21","hashOfConfig":"19"},{"size":605,"mtime":1612111796417,"results":"22","hashOfConfig":"19"},{"size":53,"mtime":1612028558838,"results":"23","hashOfConfig":"19"},{"size":362,"mtime":1612093784801,"results":"24","hashOfConfig":"19"},{"size":419,"mtime":1612116123636,"results":"25","hashOfConfig":"19"},{"size":212,"mtime":1612117187484,"results":"26","hashOfConfig":"19"},{"size":676,"mtime":1612100111489,"results":"27","hashOfConfig":"19"},{"size":890,"mtime":1612117270259,"results":"28","hashOfConfig":"19"},{"size":3231,"mtime":1612117060854,"results":"29","hashOfConfig":"19"},{"size":2651,"mtime":1612091853801,"results":"30","hashOfConfig":"19"},{"size":1807,"mtime":1612088330111,"results":"31","hashOfConfig":"19"},{"size":2493,"mtime":1612088349515,"results":"32","hashOfConfig":"19"},{"size":2402,"mtime":1612119263934,"results":"33","hashOfConfig":"19"},{"size":1313,"mtime":1612117694939,"results":"34","hashOfConfig":"19"},{"size":642,"mtime":1612117300572,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"tebm6x",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":1,"source":"62","usedDeprecatedRules":"38"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"38"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"38"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"38"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"/home/ubuntu/aspyrer/asp_client/src/index.js",[],["77","78"],"/home/ubuntu/aspyrer/asp_client/src/reportWebVitals.js",[],"/home/ubuntu/aspyrer/asp_client/src/redux/countriesReducer.js",[],"/home/ubuntu/aspyrer/asp_client/src/core/apiCore.js",[],"/home/ubuntu/aspyrer/asp_client/src/config.js",[],"/home/ubuntu/aspyrer/asp_client/src/redux/store.js",[],"/home/ubuntu/aspyrer/asp_client/src/Routes.js",[],"/home/ubuntu/aspyrer/asp_client/src/core/Layout.js",[],"/home/ubuntu/aspyrer/asp_client/src/redux/activityReducer.js",[],"/home/ubuntu/aspyrer/asp_client/src/card/InputCard.js",[],"/home/ubuntu/aspyrer/asp_client/src/card/MainCard.js",["79"],"import React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  setInputText,\n  selectInputText,\n  setPickedCountries,\n  selectPickedCountries,\n} from \"../redux/activityReducer\";\nimport { selectCountries } from \"../redux/countriesReducer\";\nimport AhoCorasick from \"../core/AhoCorasick\";\nimport Modal from \"../widget/modal/modal\";\nimport CountriesCard from \"./CountriesCard\";\nimport { postActivity } from \"../core/apiCore\";\nconst MainCard = () => {\n  const history = useHistory();\n  const [modalState, setModalState] = useState(false);\n  const dispatch = useDispatch();\n  let ac = new AhoCorasick(useSelector(selectCountries));\n  const inputText = useSelector(selectInputText);\n  const pickedCountries = useSelector(selectPickedCountries);\n\n  const toggleState = (e) => setModalState(!modalState);\n\n  const clickSubmit = (e) => {\n    e.preventDefault();\n    postActivity({\n      text: inputText,\n      countries: pickedCountries,\n    }).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        dispatch(\n          setInputText({\n            inputText: \"\",\n          })\n        );\n        dispatch(setPickedCountries({ pickedCountries: [] }));\n        history.push(\"/activity\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    dispatch(\n      setPickedCountries({ pickedCountries: [...ac.search(inputText)] })\n    );\n  }, [inputText]);\n\n  const form = () => (\n    <form onSubmit={clickSubmit}>\n      <div class=\"card mt-5\">\n        <div class=\"card-header\">Countries:</div>\n        <div class=\"card-body\">\n          <div class=\"p-3\" style={{ overflowY: \"auto\", maxHeight: \"650px\" }}>\n            <div className=\"row\">\n              <p class=\"card-text\">{inputText}</p>\n            </div>\n\n            <div className=\"row\">\n              {pickedCountries &&\n                pickedCountries.map((item, index) => (\n                  <h3 key={index} class=\"mt-1 pr-1\">\n                    <span class=\"badge badge-pill badge-dark\">{item}</span>\n                  </h3>\n                ))}\n              <h3\n                style={{ cursor: \"pointer\" }}\n                onClick={(e) => toggleState(e)}\n                class=\"mt-1\"\n              >\n                <span class=\"badge badge-pill badge-primary \">+ add tag</span>\n              </h3>\n            </div>\n          </div>\n          <div class=\"border border-light p-2 mb-4\">\n            <div class=\"text-center\">\n              <button\n                type=\"button\"\n                class=\"btn btn-primary\"\n                onClick={(e) => clickSubmit(e)}\n              >\n                Submit Activity\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  );\n\n  return (\n    <div>\n      {modalState && (\n        <Modal\n          title=\"Select countries:\"\n          id=\"modal\"\n          isOpen={modalState}\n          onClose={toggleState}\n          modalSize={\"sg\"}\n        >\n          <CountriesCard></CountriesCard>\n        </Modal>\n      )}\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">{form()}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default MainCard;\n","/home/ubuntu/aspyrer/asp_client/src/core/AhoCorasick.js",["80","81","82","83"],"(function() {\n  'use strict';\n\n  var AhoCorasick = function(keywords) {\n      this._buildTables(keywords);\n  };\n\n  AhoCorasick.prototype._buildTables = function(keywords) {\n      var gotoFn = {\n          0: {}\n      };\n      var output = {};\n\n      var state = 0;\n      keywords.forEach(function(word) {\n          var curr = 0;\n          for (var i=0; i<word.length; i++) {\n              var l = word[i];\n              if (gotoFn[curr] && l in gotoFn[curr]) {\n                  curr = gotoFn[curr][l];\n              }\n              else {\n                  state++;\n                  gotoFn[curr][l] = state;\n                  gotoFn[state] = {};\n                  curr = state;\n                  output[state] = [];\n              }\n          }\n\n          output[curr].push(word);\n      });\n\n      var failure = {};\n      var xs = [];\n\n      // f(s) = 0 for all states of depth 1 (the ones from which the 0 state can transition to)\n      for (var l in gotoFn[0]) {\n          var state = gotoFn[0][l];\n          failure[state] = 0;\n          xs.push(state);\n      }\n\n      while (xs.length) {\n          var r = xs.shift();\n          // for each symbol a such that g(r, a) = s\n          for (var l in gotoFn[r]) {\n              var s = gotoFn[r][l];\n              xs.push(s);\n\n              // set state = f(r)\n              var state = failure[r];\n              while(state > 0 && !(l in gotoFn[state])) {\n                  state = failure[state];\n              }\n\n              if (l in gotoFn[state]) {\n                  var fs = gotoFn[state][l];\n                  failure[s] = fs;\n                  output[s] = output[s].concat(output[fs]);\n              }\n              else {\n                  failure[s] = 0;\n              }\n          }\n      }\n\n      this.gotoFn = gotoFn;\n      this.output = output;\n      this.failure = failure;\n  };\n\n  AhoCorasick.prototype.search = function(string) {\n      var state = 0;\n      var results =  new Set([]);\n      for (var i=0; i<string.length; i++) {\n          var l = string[i];\n          while (state > 0 && !(l in this.gotoFn[state])) {\n              state = this.failure[state];\n          }\n          if (!(l in this.gotoFn[state])) {\n              continue;\n          }\n\n          state = this.gotoFn[state][l];\n\n          if (this.output[state].length) {\n              var foundStrs = this.output[state];\n              //results.push([i, foundStrs]); //with index\n              results.add(foundStrs.toString());\n\n          }\n      }\n\n       return results;\n  };\n\n  if (typeof module !== 'undefined') {\n      module.exports = AhoCorasick;\n  }\n  else {\n      window.AhoCorasick = AhoCorasick;\n  }\n})();","/home/ubuntu/aspyrer/asp_client/src/widget/modal/Modal.css.js",[],["84","85"],"/home/ubuntu/aspyrer/asp_client/src/widget/modal/modal.js",["86","87"],"import React, { Component } from \"react\";\nimport ReactDom from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\n// styled\nimport StyledModal from \"./Modal.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nclass Modal extends Component {\n  static defaultProps = {\n    title: \"\",\n    id: \"\",\n    modalClass: \"\",\n    modalSize: \"lg\",\n  };\n\n  static propTypes = {\n    title: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    onClose: PropTypes.func.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    modalClass: PropTypes.string,\n    modalSize: PropTypes.string,\n  };\n\n  state = { fadeType: null };\n\n  background = React.createRef();\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.onEscKeyDown, false);\n    setTimeout(() => this.setState({ fadeType: \"in\" }), 0);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!this.props.isOpen && prevProps.isOpen) {\n      this.setState({ fadeType: \"out\" });\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.onEscKeyDown, false);\n  }\n\n  transitionEnd = (e) => {\n    if (e.propertyName !== \"opacity\" || this.state.fadeType === \"in\") return;\n\n    if (this.state.fadeType === \"out\") {\n      this.props.onClose();\n    }\n  };\n\n  onEscKeyDown = (e) => {\n    if (e.key !== \"Escape\") return;\n    this.setState({ fadeType: \"out\" });\n  };\n\n  handleClick = (e) => {\n    e.preventDefault();\n    this.setState({ fadeType: \"out\" });\n  };\n\n  render() {\n    return (\n      <StyledModal\n        id={this.props.id}\n        className={`wrapper ${\"size-\" + this.props.modalSize} fade-${\n          this.state.fadeType\n        } ${this.props.modalClass}`}\n        role=\"dialog\"\n        modalSize={this.props.modalSize}\n        onTransitionEnd={this.transitionEnd}\n      >\n        <div className=\"box-dialog\">\n          <div className=\"box-header\">\n            <h4 className=\"box-title\">{this.props.title}</h4>\n            <button onClick={this.handleClick} className=\"close\">\n              Ã—\n            </button>\n          </div>\n          <div className=\"box-content\">{this.props.children}</div>\n          {/* <div className=\"box-footer\">\n            <button onClick={this.handleClick} className=\"close\">\n              Close\n            </button>\n          </div> */}\n        </div>\n        <div\n          className={`background`}\n          onMouseDown={this.handleClick}\n          ref={this.background}\n        />\n      </StyledModal>\n    );\n  }\n}\n\nexport default Modal;\n","/home/ubuntu/aspyrer/asp_client/src/card/CountriesCard.js",["88","89"],"import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  setPickedCountries,\n  selectPickedCountries,\n} from \"../redux/activityReducer\";\nimport { selectCountries } from \"../redux/countriesReducer\";\nimport Select , {createFilter}from \"react-select\";\n\nconst CountriesCard = () => {\n  const dispatch = useDispatch();\n  const countries = useSelector(selectCountries);\n  let pickedCountries = [...useSelector(selectPickedCountries)];\n  const [values, setValues] = useState({\n    prevState: [],\n  });\n  let { prevState } = values;\n\n  const handleChange = (options) => {\n    if (options.length === 0) {\n      prevState.map((item, index) => {\n        let i = pickedCountries.indexOf(item.value);\n        if (i !== -1) {\n          pickedCountries.splice(i, 1);\n        }\n      });\n      dispatch(setPickedCountries({ pickedCountries }));\n    } else {\n      if (prevState.length > options.length) {\n        let notMatchedElements = prevState.filter(\n          (element) => !options.includes(element)\n        );\n        notMatchedElements.map((item, index) => {\n          let i = pickedCountries.indexOf(item.value);\n          if (i !== -1) {\n            pickedCountries.splice(i, 1);\n          }\n        });\n        dispatch(setPickedCountries({ pickedCountries }));\n      } else {\n        let notMatchedElements = options.filter(\n          (element) => !prevState.includes(element)\n        );\n        notMatchedElements.map((item, index) =>\n          pickedCountries.push(item.value)\n        );\n        dispatch(setPickedCountries({ pickedCountries }));\n      }\n      setValues({ ...values, prevState: options });\n    }\n  };\n  const formatOptionLabel = ({ value, label }) => (\n    <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n      <div>{label}</div>\n      <div>+</div>\n    </div>\n  );\n  return (\n    <Select\n      onChange={handleChange}\n      filterOption={createFilter({ matchFrom: \"start\" })}\n      formatOptionLabel={formatOptionLabel}\n      closeMenuOnSelect={false}\n      isMulti\n      //   defaultValue={pickedCountries.map((item, index) => {\n      //     return {\n      //       value: item,\n      //       label: item,\n      //     };\n      //   })}\n      options={countries.map((item, index) => {\n        return {\n          value: item,\n          label: item,\n        };\n      })}\n    />\n  );\n};\n\nexport default CountriesCard;\n","/home/ubuntu/aspyrer/asp_client/src/screen/Home.js",["90"],"import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { loadCountries, selectCountries } from \"../redux/countriesReducer\";\nimport Layout from \"../core/Layout\";\nimport InputCard from \"../card/InputCard\";\nimport MainCard from \"../card/MainCard\";\nfunction Home() {\n  const dispatch = useDispatch();\n  const countries = useSelector(selectCountries);\n\n  useEffect(() => {\n    dispatch(loadCountries());\n  }, []);\n  return (\n    <Layout className=\"container-fluid\">\n      {countries ? (\n        countries.length > 1 ? (\n          <React.Fragment>\n            <InputCard></InputCard>\n            <MainCard></MainCard>\n          </React.Fragment>\n        ) : (\n          <div className=\"row\">\n            <div className=\"col-md-8 offset-md-2\">\n              <h2 mt-5>\n                <span className=\"text-warning\">\n                  Countries not found, please try again! {countries.error}\n                </span>\n              </h2>\n            </div>\n          </div>\n        )\n      ) : (\n        <div className=\"row\">\n          <div className=\"col-md-8 offset-md-2\">\n            <span>\n              <span className=\"text-muted\">Loading....please wait!</span>\n            </span>\n          </div>\n        </div>\n      )}\n    </Layout>\n  );\n}\n\nexport default Home;\n","/home/ubuntu/aspyrer/asp_client/src/screen/Activity.js",[],{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","severity":1,"message":"96","line":50,"column":6,"nodeType":"97","endLine":50,"endColumn":17,"suggestions":"98"},{"ruleId":"99","severity":1,"message":"100","line":2,"column":3,"nodeType":"101","messageId":"102","endLine":2,"endColumn":16,"fix":"103"},{"ruleId":"104","severity":1,"message":"105","line":39,"column":15,"nodeType":"106","messageId":"107","endLine":39,"endColumn":20},{"ruleId":"104","severity":1,"message":"108","line":47,"column":20,"nodeType":"106","messageId":"107","endLine":47,"endColumn":21},{"ruleId":"104","severity":1,"message":"105","line":52,"column":19,"nodeType":"106","messageId":"107","endLine":52,"endColumn":24},{"ruleId":"91","replacedBy":"109"},{"ruleId":"93","replacedBy":"110"},{"ruleId":"111","severity":1,"message":"112","line":2,"column":8,"nodeType":"106","messageId":"113","endLine":2,"endColumn":16},{"ruleId":"111","severity":1,"message":"114","line":8,"column":7,"nodeType":"106","messageId":"113","endLine":8,"endColumn":16},{"ruleId":"115","severity":1,"message":"116","line":21,"column":35,"nodeType":"117","messageId":"118","endLine":21,"endColumn":37},{"ruleId":"115","severity":1,"message":"116","line":33,"column":46,"nodeType":"117","messageId":"118","endLine":33,"endColumn":48},{"ruleId":"95","severity":1,"message":"119","line":14,"column":6,"nodeType":"97","endLine":14,"endColumn":8,"suggestions":"120"},"no-native-reassign",["121"],"no-negated-in-lhs",["122"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'ac' and 'dispatch'. Either include them or remove the dependency array.","ArrayExpression",["123"],"strict","'use strict' is unnecessary inside of modules.","ExpressionStatement","module",{"range":"124","text":"125"},"no-redeclare","'state' is already defined.","Identifier","redeclared","'l' is already defined.",["121"],["122"],"no-unused-vars","'ReactDom' is defined but never used.","unusedVar","'modalRoot' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["126"],"no-global-assign","no-unsafe-negation",{"desc":"127","fix":"128"},[16,29],"",{"desc":"129","fix":"130"},"Update the dependencies array to be: [ac, dispatch, inputText]",{"range":"131","text":"132"},"Update the dependencies array to be: [dispatch]",{"range":"133","text":"134"},[1461,1472],"[ac, dispatch, inputText]",[455,457],"[dispatch]"]